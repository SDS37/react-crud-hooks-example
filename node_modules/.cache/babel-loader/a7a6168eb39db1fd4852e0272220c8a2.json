{"ast":null,"code":"import _objectSpread from \"/Users/sal/Desktop/github/react-crud-hooks-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/sal/Desktop/github/react-crud-hooks-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { css as _css } from \"emotion\";\nvar _jsxFileName = \"/Users/sal/Desktop/github/react-crud-hooks-example/src/ice-cream/IceCream.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport ErrorContainer from './ErrorContainer';\nimport IceCreamImage from './IceCreamImage';\nimport useUniqueIds from '../hooks/useUniqueIds';\nimport useValidation from '../hooks/useValidation';\nimport { validatePrice, validateQuantity, validateDescription } from '../utils/validators';\nimport PropTypes from 'prop-types';\n\nconst formStyle =\n/*#__PURE__*/\n_css(process.env.NODE_ENV === \"production\" ? {\n  name: \"1k4qrqm-formStyle\",\n  styles: \"display:grid;grid-template-columns:1fr 3fr;font-size:1em;font-weight:400;border:1px solid rgba(32,33,36,0.12);background-clip:padding-box;border-radius:1em;.image-container{display:flex;background-color:#f8f8f8;border-top-left-radius:1em;border-bottom-left-radius:1em;border-right:1px solid rgba(32,33,36,0.1);img{flex:1;align-self:center;justify-self:center;margin-left:2em;margin-right:2em;}}.form-container{background-color:#ffffff;border-top-right-radius:1em;border-bottom-right-radius:1em;padding:2em;form{display:grid;grid-template-columns:1fr 3fr;grid-column-gap:1rem;grid-row-gap:0;label{justify-self:right;align-self:start;color:rgba(64,49,71,0.8);line-height:2.375em;}textarea{resize:vertical;}.checkbox-wrapper{min-height:3em;display:flex;}input[type='checkbox']{cursor:pointer;outline:0;margin:1.175em 0px;z-index:5;opacity:0;position:absolute;& + .checkbox-wrapper-checked{display:inline-block;width:auto;padding-left:2rem;position:relative;&:before,&:after{display:inline-block;position:absolute;}&:before{content:'';border:1px solid #8b9099;border-radius:3px;display:inline-block;height:1.125em;width:1.125em;left:0;top:8px;transition:0.2s box-shadow ease-in-out;}&:after{border-bottom:2px solid;border-left:2px solid;content:none;display:inline-block;height:5px;left:4px;top:13px;width:10px;transform:rotate(-45deg);}}&:checked + .checkbox-wrapper-checked:after{content:'';color:#fff;}&:checked + .checkbox-wrapper-checked:before{background:rgba(64,49,71,1);border-color:rgba(64,49,71,1);}&:focus:not(:active) + .checkbox-wrapper-checked:before{outline:2px solid transparent;box-shadow:0 0 0 2px #fff,0 0 0 4px #8b9099;}}input:not([type='checkbox']),select,textarea{width:100%;justify-self:left;align-self:center;background:#fff;border:1px solid #8b9099;border-radius:6px;color:rgba(32,33,36,1);font-size:1rem;line-height:2.25em;min-width:10rem;padding:0 0.75em;vertical-align:baseline;font-family:'geomanist',sans-serif;transition:box-shadow 0.2s ease-in-out;}select{border-radius:6px;height:36px;}input:not([type='checkbox']),textarea,select{box-shadow:none;outline:2px solid transparent;&:focus{outline:2px solid transparent;box-shadow:0 0 0 2px #fff,0 0 0 4px #8b9099;}}.button-container{grid-column:2;min-width:10rem;justify-self:left;display:grid;grid-template-columns:1fr 1fr;grid-gap:1em;button{display:inline-block;padding:0 1em;line-height:2em;margin:0;outline:0;border:0;border-radius:5em;font-size:1rem;cursor:pointer;font-family:'geomanist',sans-serif;transition:box-shadow 0.2s ease-in-out;&:focus{outline:2px solid transparent;}}.ok{background-color:#0f8261;color:#fff;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15);&:focus:not(:active){box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15),0 0 0 2px #ffffff,0 0 0 4px #0f8261;}&:active{box-shadow:inset 0 2px 0 rgba(0,0,0,0.15);}}.warning{background:#ab131c;color:#fff;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15);&:focus:not(:active){box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15),0 0 0 2px #ffffff,0 0 0 4px #ab131c;}&:active{box-shadow:inset 0 2px 0 rgba(0,0,0,0.15);}}}.error{input,select,textarea{border:1px solid #d8474f;background-color:rgba(216,71,79,0.07);&:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(216,71,79,1);}}}.error-wrapper{min-height:2em;padding-top:0.2em;padding-bottom:0.5em;span{color:#ab131c;}}}dl{display:grid;grid-template-columns:1fr 3fr;grid-gap:1rem;margin-bottom:1rem;margin-top:0;line-height:2.375em;dt{justify-self:right;align-self:start;color:rgba(64,49,71,0.8);}dd{justify-self:left;align-self:center;margin:0;text-align:left;}}}@media screen and (max-width:880px){grid-template-columns:1fr;font-size:1em;.image-container{border-radius:1em 1em 0 0;display:flex;justify-content:center;max-width:100vw;padding-top:2em;padding-bottom:2em;img{max-width:10em;}}.form-container{border-radius:0 0 1em 1em;max-width:100vw;form .error .error-wrapper > span{font-size:0.8rem;}}}label:formStyle;\"\n} : {\n  name: \"1k4qrqm-formStyle\",\n  styles: \"display:grid;grid-template-columns:1fr 3fr;font-size:1em;font-weight:400;border:1px solid rgba(32,33,36,0.12);background-clip:padding-box;border-radius:1em;.image-container{display:flex;background-color:#f8f8f8;border-top-left-radius:1em;border-bottom-left-radius:1em;border-right:1px solid rgba(32,33,36,0.1);img{flex:1;align-self:center;justify-self:center;margin-left:2em;margin-right:2em;}}.form-container{background-color:#ffffff;border-top-right-radius:1em;border-bottom-right-radius:1em;padding:2em;form{display:grid;grid-template-columns:1fr 3fr;grid-column-gap:1rem;grid-row-gap:0;label{justify-self:right;align-self:start;color:rgba(64,49,71,0.8);line-height:2.375em;}textarea{resize:vertical;}.checkbox-wrapper{min-height:3em;display:flex;}input[type='checkbox']{cursor:pointer;outline:0;margin:1.175em 0px;z-index:5;opacity:0;position:absolute;& + .checkbox-wrapper-checked{display:inline-block;width:auto;padding-left:2rem;position:relative;&:before,&:after{display:inline-block;position:absolute;}&:before{content:'';border:1px solid #8b9099;border-radius:3px;display:inline-block;height:1.125em;width:1.125em;left:0;top:8px;transition:0.2s box-shadow ease-in-out;}&:after{border-bottom:2px solid;border-left:2px solid;content:none;display:inline-block;height:5px;left:4px;top:13px;width:10px;transform:rotate(-45deg);}}&:checked + .checkbox-wrapper-checked:after{content:'';color:#fff;}&:checked + .checkbox-wrapper-checked:before{background:rgba(64,49,71,1);border-color:rgba(64,49,71,1);}&:focus:not(:active) + .checkbox-wrapper-checked:before{outline:2px solid transparent;box-shadow:0 0 0 2px #fff,0 0 0 4px #8b9099;}}input:not([type='checkbox']),select,textarea{width:100%;justify-self:left;align-self:center;background:#fff;border:1px solid #8b9099;border-radius:6px;color:rgba(32,33,36,1);font-size:1rem;line-height:2.25em;min-width:10rem;padding:0 0.75em;vertical-align:baseline;font-family:'geomanist',sans-serif;transition:box-shadow 0.2s ease-in-out;}select{border-radius:6px;height:36px;}input:not([type='checkbox']),textarea,select{box-shadow:none;outline:2px solid transparent;&:focus{outline:2px solid transparent;box-shadow:0 0 0 2px #fff,0 0 0 4px #8b9099;}}.button-container{grid-column:2;min-width:10rem;justify-self:left;display:grid;grid-template-columns:1fr 1fr;grid-gap:1em;button{display:inline-block;padding:0 1em;line-height:2em;margin:0;outline:0;border:0;border-radius:5em;font-size:1rem;cursor:pointer;font-family:'geomanist',sans-serif;transition:box-shadow 0.2s ease-in-out;&:focus{outline:2px solid transparent;}}.ok{background-color:#0f8261;color:#fff;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15);&:focus:not(:active){box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15),0 0 0 2px #ffffff,0 0 0 4px #0f8261;}&:active{box-shadow:inset 0 2px 0 rgba(0,0,0,0.15);}}.warning{background:#ab131c;color:#fff;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15);&:focus:not(:active){box-shadow:inset 0 -2px 0 rgba(0,0,0,0.15),0 0 0 2px #ffffff,0 0 0 4px #ab131c;}&:active{box-shadow:inset 0 2px 0 rgba(0,0,0,0.15);}}}.error{input,select,textarea{border:1px solid #d8474f;background-color:rgba(216,71,79,0.07);&:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(216,71,79,1);}}}.error-wrapper{min-height:2em;padding-top:0.2em;padding-bottom:0.5em;span{color:#ab131c;}}}dl{display:grid;grid-template-columns:1fr 3fr;grid-gap:1rem;margin-bottom:1rem;margin-top:0;line-height:2.375em;dt{justify-self:right;align-self:start;color:rgba(64,49,71,0.8);}dd{justify-self:left;align-self:center;margin:0;text-align:left;}}}@media screen and (max-width:880px){grid-template-columns:1fr;font-size:1em;.image-container{border-radius:1em 1em 0 0;display:flex;justify-content:center;max-width:100vw;padding-top:2em;padding-bottom:2em;img{max-width:10em;}}.form-container{border-radius:0 0 1em 1em;max-width:100vw;form .error .error-wrapper > span{font-size:0.8rem;}}}label:formStyle;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWwvRGVza3RvcC9naXRodWIvcmVhY3QtY3J1ZC1ob29rcy1leGFtcGxlL3NyYy9pY2UtY3JlYW0vSWNlQ3JlYW0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBYXFCIiwiZmlsZSI6Ii9Vc2Vycy9zYWwvRGVza3RvcC9naXRodWIvcmVhY3QtY3J1ZC1ob29rcy1leGFtcGxlL3NyYy9pY2UtY3JlYW0vSWNlQ3JlYW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEVycm9yQ29udGFpbmVyIGZyb20gJy4vRXJyb3JDb250YWluZXInO1xuaW1wb3J0IEljZUNyZWFtSW1hZ2UgZnJvbSAnLi9JY2VDcmVhbUltYWdlJztcbmltcG9ydCB1c2VVbmlxdWVJZHMgZnJvbSAnLi4vaG9va3MvdXNlVW5pcXVlSWRzJztcbmltcG9ydCB1c2VWYWxpZGF0aW9uIGZyb20gJy4uL2hvb2tzL3VzZVZhbGlkYXRpb24nO1xuaW1wb3J0IHtcbiAgdmFsaWRhdGVQcmljZSxcbiAgdmFsaWRhdGVRdWFudGl0eSxcbiAgdmFsaWRhdGVEZXNjcmlwdGlvbixcbn0gZnJvbSAnLi4vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdlbW90aW9uL21hY3JvJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmNvbnN0IGZvcm1TdHlsZSA9IGNzc2BcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgM2ZyO1xuICBmb250LXNpemU6IDFlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgzMiwgMzMsIDM2LCAwLjEyKTtcbiAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xuXG4gIC5pbWFnZS1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxZW07XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMWVtO1xuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHJnYmEoMzIsIDMzLCAzNiwgMC4xKTtcblxuICAgIGltZyB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAganVzdGlmeS1zZWxmOiBjZW50ZXI7XG4gICAgICBtYXJnaW4tbGVmdDogMmVtO1xuICAgICAgbWFyZ2luLXJpZ2h0OiAyZW07XG4gICAgfVxuICB9XG5cbiAgLmZvcm0tY29udGFpbmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxZW07XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDFlbTtcbiAgICBwYWRkaW5nOiAyZW07XG5cbiAgICBmb3JtIHtcbiAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAzZnI7XG4gICAgICBncmlkLWNvbHVtbi1nYXA6IDFyZW07XG4gICAgICBncmlkLXJvdy1nYXA6IDA7XG5cbiAgICAgIGxhYmVsIHtcbiAgICAgICAganVzdGlmeS1zZWxmOiByaWdodDtcbiAgICAgICAgYWxpZ24tc2VsZjogc3RhcnQ7XG4gICAgICAgIGNvbG9yOiByZ2JhKDY0LCA0OSwgNzEsIDAuOCk7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyLjM3NWVtO1xuICAgICAgfVxuXG4gICAgICB0ZXh0YXJlYSB7XG4gICAgICAgIHJlc2l6ZTogdmVydGljYWw7XG4gICAgICB9XG5cbiAgICAgIC5jaGVja2JveC13cmFwcGVyIHtcbiAgICAgICAgbWluLWhlaWdodDogM2VtO1xuXG4gICAgICAgIC8vIGN1c3RvbVxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgfVxuXG4gICAgICBpbnB1dFt0eXBlPSdjaGVja2JveCddIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBvdXRsaW5lOiAwO1xuICAgICAgICBtYXJnaW46IDEuMTc1ZW0gMHB4O1xuICAgICAgICB6LWluZGV4OiA1O1xuXG4gICAgICAgIC8vIGN1c3RvbVxuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgICAgICAgJiArIC5jaGVja2JveC13cmFwcGVyLWNoZWNrZWQge1xuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICB3aWR0aDogYXV0bztcblxuICAgICAgICAgIHBhZGRpbmctbGVmdDogMnJlbTtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgICAgICAmOmJlZm9yZSxcbiAgICAgICAgICAmOmFmdGVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAmOmJlZm9yZSB7XG4gICAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM4YjkwOTk7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBoZWlnaHQ6IDEuMTI1ZW07XG4gICAgICAgICAgICB3aWR0aDogMS4xMjVlbTtcbiAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICB0b3A6IDhweDtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuMnMgYm94LXNoYWRvdyBlYXNlLWluLW91dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAmOmFmdGVyIHtcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZDtcbiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAycHggc29saWQ7XG4gICAgICAgICAgICBjb250ZW50OiBub25lO1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgaGVpZ2h0OiA1cHg7XG4gICAgICAgICAgICBsZWZ0OiA0cHg7XG4gICAgICAgICAgICB0b3A6IDEzcHg7XG4gICAgICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJjpjaGVja2VkICsgLmNoZWNrYm94LXdyYXBwZXItY2hlY2tlZDphZnRlciB7XG4gICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIH1cblxuICAgICAgICAmOmNoZWNrZWQgKyAuY2hlY2tib3gtd3JhcHBlci1jaGVja2VkOmJlZm9yZSB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmdiYSg2NCwgNDksIDcxLCAxKTtcbiAgICAgICAgICBib3JkZXItY29sb3I6IHJnYmEoNjQsIDQ5LCA3MSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAmOmZvY3VzOm5vdCg6YWN0aXZlKSArIC5jaGVja2JveC13cmFwcGVyLWNoZWNrZWQ6YmVmb3JlIHtcbiAgICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMnB4ICNmZmYsIDAgMCAwIDRweCAjOGI5MDk5O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlucHV0Om5vdChbdHlwZT0nY2hlY2tib3gnXSksXG4gICAgICBzZWxlY3QsXG4gICAgICB0ZXh0YXJlYSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBqdXN0aWZ5LXNlbGY6IGxlZnQ7XG4gICAgICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzhiOTA5OTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBjb2xvcjogcmdiYSgzMiwgMzMsIDM2LCAxKTtcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICBsaW5lLWhlaWdodDogMi4yNWVtO1xuICAgICAgICBtaW4td2lkdGg6IDEwcmVtO1xuICAgICAgICBwYWRkaW5nOiAwIDAuNzVlbTtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xuICAgICAgICBmb250LWZhbWlseTogJ2dlb21hbmlzdCcsIHNhbnMtc2VyaWY7XG4gICAgICAgIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMC4ycyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0IHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICBoZWlnaHQ6IDM2cHg7XG4gICAgICB9XG5cbiAgICAgIGlucHV0Om5vdChbdHlwZT0nY2hlY2tib3gnXSksXG4gICAgICB0ZXh0YXJlYSxcbiAgICAgIHNlbGVjdCB7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcblxuICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICBvdXRsaW5lOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMnB4ICNmZmYsIDAgMCAwIDRweCAjOGI5MDk5O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24tY29udGFpbmVyIHtcbiAgICAgICAgZ3JpZC1jb2x1bW46IDI7XG4gICAgICAgIG1pbi13aWR0aDogMTByZW07XG4gICAgICAgIGp1c3RpZnktc2VsZjogbGVmdDtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgICAgICBncmlkLWdhcDogMWVtO1xuXG4gICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMWVtO1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyZW07XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIG91dGxpbmU6IDA7XG4gICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVlbTtcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnZ2VvbWFuaXN0Jywgc2Fucy1zZXJpZjtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnMgZWFzZS1pbi1vdXQ7XG5cbiAgICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAub2sge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwZjgyNjE7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAtMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE1KTtcblxuICAgICAgICAgICY6Zm9jdXM6bm90KDphY3RpdmUpIHtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgLTJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNSksIDAgMCAwIDJweCAjZmZmZmZmLFxuICAgICAgICAgICAgICAwIDAgMCA0cHggIzBmODI2MTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAmOmFjdGl2ZSB7XG4gICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLndhcm5pbmcge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNhYjEzMWM7XG4gICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMCAtMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjE1KTtcblxuICAgICAgICAgICY6Zm9jdXM6bm90KDphY3RpdmUpIHtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgLTJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNSksIDAgMCAwIDJweCAjZmZmZmZmLFxuICAgICAgICAgICAgICAwIDAgMCA0cHggI2FiMTMxYztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAmOmFjdGl2ZSB7XG4gICAgICAgICAgICBib3gtc2hhZG93OiBpbnNldCAwIDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5lcnJvciB7XG4gICAgICAgIGlucHV0LFxuICAgICAgICBzZWxlY3QsXG4gICAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZDg0NzRmO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjE2LCA3MSwgNzksIDAuMDcpO1xuXG4gICAgICAgICAgJjpmb2N1cyB7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAycHggI2ZmZiwgMCAwIDAgNHB4IHJnYmEoMjE2LCA3MSwgNzksIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuZXJyb3Itd3JhcHBlciB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDJlbTtcbiAgICAgICAgcGFkZGluZy10b3A6IDAuMmVtO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC41ZW07XG5cbiAgICAgICAgc3BhbiB7XG4gICAgICAgICAgY29sb3I6ICNhYjEzMWM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBkbCB7XG4gICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgM2ZyO1xuICAgICAgZ3JpZC1nYXA6IDFyZW07XG4gICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgIGxpbmUtaGVpZ2h0OiAyLjM3NWVtO1xuXG4gICAgICBkdCB7XG4gICAgICAgIGp1c3RpZnktc2VsZjogcmlnaHQ7XG4gICAgICAgIGFsaWduLXNlbGY6IHN0YXJ0O1xuICAgICAgICBjb2xvcjogcmdiYSg2NCwgNDksIDcxLCAwLjgpO1xuICAgICAgfVxuXG4gICAgICBkZCB7XG4gICAgICAgIGp1c3RpZnktc2VsZjogbGVmdDtcbiAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogODgwcHgpIHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcblxuICAgIGZvbnQtc2l6ZTogMWVtO1xuXG4gICAgLmltYWdlLWNvbnRhaW5lciB7XG4gICAgICBib3JkZXItcmFkaXVzOiAxZW0gMWVtIDAgMDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIG1heC13aWR0aDogMTAwdnc7XG4gICAgICBwYWRkaW5nLXRvcDogMmVtO1xuICAgICAgcGFkZGluZy1ib3R0b206IDJlbTtcblxuICAgICAgaW1nIHtcbiAgICAgICAgbWF4LXdpZHRoOiAxMGVtO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5mb3JtLWNvbnRhaW5lciB7XG4gICAgICBib3JkZXItcmFkaXVzOiAwIDAgMWVtIDFlbTtcbiAgICAgIG1heC13aWR0aDogMTAwdnc7XG5cbiAgICAgIGZvcm0gLmVycm9yIC5lcnJvci13cmFwcGVyID4gc3BhbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuYDtcblxuY29uc3QgSWNlQ3JlYW0gPSAoe1xuICBpY2VDcmVhbSxcbiAgcHJpY2UgPSAwLFxuICBxdWFudGl0eSA9IDAsXG4gIGluU3RvY2sgPSB0cnVlLFxuICBkZXNjcmlwdGlvbiA9ICcnLFxuICBvbkRlbGV0ZSxcbiAgb25TdWJtaXQsXG59KSA9PiB7XG4gIGNvbnN0IFtcbiAgICBkZXNjcmlwdGlvbklkLFxuICAgIGRlc2NyaXB0aW9uRXJyb3JJZCxcbiAgICBzdG9ja0lkLFxuICAgIHF1YW50aXR5SWQsXG4gICAgcXVhbnRpdHlFcnJvcklkLFxuICAgIHByaWNlSWQsXG4gICAgcHJpY2VFcnJvcklkLFxuICBdID0gdXNlVW5pcXVlSWRzKDcpO1xuXG4gIGNvbnN0IGZvcm1SZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgY29uc3QgW2ludGVybmFsRGF0YSwgc2V0SW50ZXJuYWxEYXRhXSA9IHVzZVN0YXRlKHtcbiAgICBwcmljZTogJzAuMDAnLFxuICAgIGluU3RvY2s6IHRydWUsXG4gICAgcXVhbnRpdHk6ICcwJyxcbiAgICBkZXNjcmlwdGlvbjogJycsXG4gIH0pO1xuXG4gIGNvbnN0IFtoYXNTdWJtaXR0ZWQsIHNldEhhc1N1Ym1pdHRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgW2Rlc2NyaXB0aW9uRXJyb3IsIGRlc2NyaXB0aW9uRXJyb3JQcm9wc10gPSB1c2VWYWxpZGF0aW9uKFxuICAgIGludGVybmFsRGF0YS5kZXNjcmlwdGlvbixcbiAgICBkZXNjcmlwdGlvbkVycm9ySWQsXG4gICAgaGFzU3VibWl0dGVkLFxuICAgIHZhbGlkYXRlRGVzY3JpcHRpb24sXG4gICAgdHJ1ZVxuICApO1xuXG4gIGNvbnN0IFtxdWFudGl0eUVycm9yLCBxdWFudGl0eUVycm9yUHJvcHNdID0gdXNlVmFsaWRhdGlvbihcbiAgICBpbnRlcm5hbERhdGEucXVhbnRpdHksXG4gICAgcXVhbnRpdHlFcnJvcklkLFxuICAgIGhhc1N1Ym1pdHRlZCxcbiAgICB2YWxpZGF0ZVF1YW50aXR5LFxuICAgIGZhbHNlLFxuICAgIGludGVybmFsRGF0YS5pblN0b2NrXG4gICk7XG5cbiAgY29uc3QgW3ByaWNlRXJyb3IsIHByaWNlRXJyb3JQcm9wc10gPSB1c2VWYWxpZGF0aW9uKFxuICAgIGludGVybmFsRGF0YS5wcmljZSxcbiAgICBwcmljZUVycm9ySWQsXG4gICAgaGFzU3VibWl0dGVkLFxuICAgIHZhbGlkYXRlUHJpY2UsXG4gICAgdHJ1ZVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SW50ZXJuYWxEYXRhKHtcbiAgICAgIHByaWNlOiBwcmljZS50b0ZpeGVkKDIpLFxuICAgICAgaW5TdG9jayxcbiAgICAgIHF1YW50aXR5OiBxdWFudGl0eS50b1N0cmluZygpLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgfSk7XG4gIH0sIFtwcmljZSwgcXVhbnRpdHksIGluU3RvY2ssIGRlc2NyaXB0aW9uXSk7XG5cbiAgY29uc3Qgb25DaGFuZ2VIYW5kbGVyID0gZSA9PiB7XG4gICAgbGV0IG5ld0ludGVybmFsRGF0YSA9IHtcbiAgICAgIC4uLmludGVybmFsRGF0YSxcbiAgICAgIFtlLnRhcmdldC5uYW1lXTpcbiAgICAgICAgZS50YXJnZXQudHlwZSA9PT0gJ2NoZWNrYm94JyA/IGUudGFyZ2V0LmNoZWNrZWQgOiBlLnRhcmdldC52YWx1ZSxcbiAgICB9O1xuXG4gICAgaWYgKGUudGFyZ2V0Lm5hbWUgPT09ICdxdWFudGl0eScpIHtcbiAgICAgIG5ld0ludGVybmFsRGF0YS5pblN0b2NrID0gZS50YXJnZXQudmFsdWUgIT09ICcwJztcbiAgICB9XG5cbiAgICBpZiAoZS50YXJnZXQubmFtZSA9PT0gJ2luU3RvY2snICYmICFlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICBuZXdJbnRlcm5hbERhdGEucXVhbnRpdHkgPSAnMCc7XG4gICAgfVxuXG4gICAgc2V0SW50ZXJuYWxEYXRhKG5ld0ludGVybmFsRGF0YSk7XG4gIH07XG5cbiAgY29uc3Qgb25TdWJtaXRIYW5kbGVyID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldEhhc1N1Ym1pdHRlZCh0cnVlKTtcblxuICAgIGlmIChkZXNjcmlwdGlvbkVycm9yIHx8IHF1YW50aXR5RXJyb3IgfHwgcHJpY2VFcnJvcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yQ29udHJvbCA9IGZvcm1SZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICdbYXJpYS1pbnZhbGlkPVwidHJ1ZVwiXSdcbiAgICAgICAgKTtcbiAgICAgICAgZXJyb3JDb250cm9sLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWJtaXQoe1xuICAgICAgICBpY2VDcmVhbTogeyBpZDogaWNlQ3JlYW0uaWQgfSxcbiAgICAgICAgcHJpY2U6IHBhcnNlRmxvYXQoaW50ZXJuYWxEYXRhLnByaWNlKSxcbiAgICAgICAgaW5TdG9jazogaW50ZXJuYWxEYXRhLmluU3RvY2ssXG4gICAgICAgIHF1YW50aXR5OiBwYXJzZUludChpbnRlcm5hbERhdGEucXVhbnRpdHkpLFxuICAgICAgICBkZXNjcmlwdGlvbjogaW50ZXJuYWxEYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Zvcm1TdHlsZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImltYWdlLWNvbnRhaW5lclwiPlxuICAgICAgICA8SWNlQ3JlYW1JbWFnZSBpY2VDcmVhbUlkPXtpY2VDcmVhbS5pZH0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgIDxkdD5OYW1lIDo8L2R0PlxuICAgICAgICAgICAgPGRkPntpY2VDcmVhbS5uYW1lfTwvZGQ+XG4gICAgICAgICAgPC9kbD5cbiAgICAgICAgICA8Zm9ybSBub1ZhbGlkYXRlIG9uU3VibWl0PXtvblN1Ym1pdEhhbmRsZXJ9IHJlZj17Zm9ybVJlZn0+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZGVzY3JpcHRpb25JZH0+XG4gICAgICAgICAgICAgIERlc2NyaXB0aW9uPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+Kjwvc3Bhbj4gOlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxFcnJvckNvbnRhaW5lclxuICAgICAgICAgICAgICBlcnJvclRleHQ9e2Rlc2NyaXB0aW9uRXJyb3J9XG4gICAgICAgICAgICAgIGVycm9ySWQ9e2Rlc2NyaXB0aW9uRXJyb3JJZH1cbiAgICAgICAgICAgICAgaGFzU3VibWl0dGVkPXtoYXNTdWJtaXR0ZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIGlkPXtkZXNjcmlwdGlvbklkfVxuICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgcm93cz1cIjNcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ludGVybmFsRGF0YS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICB7Li4uZGVzY3JpcHRpb25FcnJvclByb3BzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9FcnJvckNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtzdG9ja0lkfT5JbiBTdG9jayA6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3gtd3JhcHBlclwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBpZD17c3RvY2tJZH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJpblN0b2NrXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ludGVybmFsRGF0YS5pblN0b2NrfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrYm94LXdyYXBwZXItY2hlY2tlZFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtxdWFudGl0eUlkfT5RdWFudGl0eSA6PC9sYWJlbD5cbiAgICAgICAgICAgIDxFcnJvckNvbnRhaW5lclxuICAgICAgICAgICAgICBlcnJvclRleHQ9e3F1YW50aXR5RXJyb3J9XG4gICAgICAgICAgICAgIGVycm9ySWQ9e3F1YW50aXR5RXJyb3JJZH1cbiAgICAgICAgICAgICAgaGFzU3VibWl0dGVkPXtoYXNTdWJtaXR0ZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICBpZD17cXVhbnRpdHlJZH1cbiAgICAgICAgICAgICAgICBuYW1lPVwicXVhbnRpdHlcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ludGVybmFsRGF0YS5xdWFudGl0eX1cbiAgICAgICAgICAgICAgICB7Li4ucXVhbnRpdHlFcnJvclByb3BzfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjBcIj4wPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjEwXCI+MTA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMjBcIj4yMDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIzMFwiPjMwPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjQwXCI+NDA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiNTBcIj41MDwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvRXJyb3JDb250YWluZXI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17cHJpY2VJZH0+XG4gICAgICAgICAgICAgIFByaWNlPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+Kjwvc3Bhbj4gOlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxFcnJvckNvbnRhaW5lclxuICAgICAgICAgICAgICBlcnJvclRleHQ9e3ByaWNlRXJyb3J9XG4gICAgICAgICAgICAgIGVycm9ySWQ9e3ByaWNlRXJyb3JJZH1cbiAgICAgICAgICAgICAgaGFzU3VibWl0dGVkPXtoYXNTdWJtaXR0ZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPXtwcmljZUlkfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwicHJpY2VcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ludGVybmFsRGF0YS5wcmljZX1cbiAgICAgICAgICAgICAgICB7Li4ucHJpY2VFcnJvclByb3BzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9FcnJvckNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm9rXCIgdHlwZT1cInN1Ym1pdFwiPlxuICAgICAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHtvbkRlbGV0ZSAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ3YXJuaW5nXCIgdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e29uRGVsZXRlfT5cbiAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuSWNlQ3JlYW0ucHJvcFR5cGVzID0ge1xuICBpY2VDcmVhbTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBpZDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgfSksXG4gIHByaWNlOiBQcm9wVHlwZXMubnVtYmVyLFxuICBxdWFudGl0eTogUHJvcFR5cGVzLm51bWJlcixcbiAgaW5TdG9jazogUHJvcFR5cGVzLmJvb2wsXG4gIGRlc2NyaXB0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvbkRlbGV0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU3VibWl0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgSWNlQ3JlYW07XG4iXX0= */\"\n});\n\nconst IceCream = ({\n  iceCream,\n  price = 0,\n  quantity = 0,\n  inStock = true,\n  description = '',\n  onDelete,\n  onSubmit\n}) => {\n  const _useUniqueIds = useUniqueIds(7),\n        _useUniqueIds2 = _slicedToArray(_useUniqueIds, 7),\n        descriptionId = _useUniqueIds2[0],\n        descriptionErrorId = _useUniqueIds2[1],\n        stockId = _useUniqueIds2[2],\n        quantityId = _useUniqueIds2[3],\n        quantityErrorId = _useUniqueIds2[4],\n        priceId = _useUniqueIds2[5],\n        priceErrorId = _useUniqueIds2[6];\n\n  const formRef = useRef(null);\n\n  const _useState = useState({\n    price: '0.00',\n    inStock: true,\n    quantity: '0',\n    description: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        internalData = _useState2[0],\n        setInternalData = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        hasSubmitted = _useState4[0],\n        setHasSubmitted = _useState4[1];\n\n  const _useValidation = useValidation(internalData.description, descriptionErrorId, hasSubmitted, validateDescription, true),\n        _useValidation2 = _slicedToArray(_useValidation, 2),\n        descriptionError = _useValidation2[0],\n        descriptionErrorProps = _useValidation2[1];\n\n  const _useValidation3 = useValidation(internalData.quantity, quantityErrorId, hasSubmitted, validateQuantity, false, internalData.inStock),\n        _useValidation4 = _slicedToArray(_useValidation3, 2),\n        quantityError = _useValidation4[0],\n        quantityErrorProps = _useValidation4[1];\n\n  const _useValidation5 = useValidation(internalData.price, priceErrorId, hasSubmitted, validatePrice, true),\n        _useValidation6 = _slicedToArray(_useValidation5, 2),\n        priceError = _useValidation6[0],\n        priceErrorProps = _useValidation6[1];\n\n  useEffect(() => {\n    setInternalData({\n      price: price.toFixed(2),\n      inStock,\n      quantity: quantity.toString(),\n      description\n    });\n  }, [price, quantity, inStock, description]);\n\n  const onChangeHandler = e => {\n    let newInternalData = _objectSpread({}, internalData, {\n      [e.target.name]: e.target.type === 'checkbox' ? e.target.checked : e.target.value\n    });\n\n    if (e.target.name === 'quantity') {\n      newInternalData.inStock = e.target.value !== '0';\n    }\n\n    if (e.target.name === 'inStock' && !e.target.checked) {\n      newInternalData.quantity = '0';\n    }\n\n    setInternalData(newInternalData);\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    setHasSubmitted(true);\n\n    if (descriptionError || quantityError || priceError) {\n      setTimeout(() => {\n        const errorControl = formRef.current.querySelector('[aria-invalid=\"true\"]');\n        errorControl.focus();\n      });\n    } else {\n      onSubmit({\n        iceCream: {\n          id: iceCream.id\n        },\n        price: parseFloat(internalData.price),\n        inStock: internalData.inStock,\n        quantity: parseInt(internalData.quantity),\n        description: internalData.description\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: formStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"image-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408\n    },\n    __self: this\n  }, React.createElement(IceCreamImage, {\n    iceCreamId: iceCream.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412\n    },\n    __self: this\n  }, React.createElement(\"dl\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413\n    },\n    __self: this\n  }, React.createElement(\"dt\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414\n    },\n    __self: this\n  }, \"Name :\"), React.createElement(\"dd\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415\n    },\n    __self: this\n  }, iceCream.name)), React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: onSubmitHandler,\n    ref: formRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: descriptionId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418\n    },\n    __self: this\n  }, \"Description\", React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419\n    },\n    __self: this\n  }, \"*\"), \" :\"), React.createElement(ErrorContainer, {\n    errorText: descriptionError,\n    errorId: descriptionErrorId,\n    hasSubmitted: hasSubmitted,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421\n    },\n    __self: this\n  }, React.createElement(\"textarea\", Object.assign({\n    id: descriptionId,\n    name: \"description\",\n    rows: \"3\",\n    onChange: onChangeHandler,\n    value: internalData.description\n  }, descriptionErrorProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  }))), React.createElement(\"label\", {\n    htmlFor: stockId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435\n    },\n    __self: this\n  }, \"In Stock :\"), React.createElement(\"div\", {\n    className: \"checkbox-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: stockId,\n    type: \"checkbox\",\n    name: \"inStock\",\n    onChange: onChangeHandler,\n    checked: internalData.inStock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"checkbox-wrapper-checked\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    htmlFor: quantityId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446\n    },\n    __self: this\n  }, \"Quantity :\"), React.createElement(ErrorContainer, {\n    errorText: quantityError,\n    errorId: quantityErrorId,\n    hasSubmitted: hasSubmitted,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  }, React.createElement(\"select\", Object.assign({\n    id: quantityId,\n    name: \"quantity\",\n    onChange: onChangeHandler,\n    value: internalData.quantity\n  }, quantityErrorProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  }), React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459\n    },\n    __self: this\n  }, \"0\"), React.createElement(\"option\", {\n    value: \"10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460\n    },\n    __self: this\n  }, \"10\"), React.createElement(\"option\", {\n    value: \"20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461\n    },\n    __self: this\n  }, \"20\"), React.createElement(\"option\", {\n    value: \"30\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462\n    },\n    __self: this\n  }, \"30\"), React.createElement(\"option\", {\n    value: \"40\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463\n    },\n    __self: this\n  }, \"40\"), React.createElement(\"option\", {\n    value: \"50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464\n    },\n    __self: this\n  }, \"50\"))), React.createElement(\"label\", {\n    htmlFor: priceId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467\n    },\n    __self: this\n  }, \"Price\", React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468\n    },\n    __self: this\n  }, \"*\"), \" :\"), React.createElement(ErrorContainer, {\n    errorText: priceError,\n    errorId: priceErrorId,\n    hasSubmitted: hasSubmitted,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470\n    },\n    __self: this\n  }, React.createElement(\"input\", Object.assign({\n    id: priceId,\n    type: \"number\",\n    step: \"0.01\",\n    name: \"price\",\n    onChange: onChangeHandler,\n    value: internalData.price\n  }, priceErrorProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"button-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"ok\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486\n    },\n    __self: this\n  }, \"Save\"), onDelete && React.createElement(\"button\", {\n    className: \"warning\",\n    type: \"button\",\n    onClick: onDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490\n    },\n    __self: this\n  }, \"Delete\"))))));\n};\n\nIceCream.propTypes = {\n  iceCream: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired\n  }),\n  price: PropTypes.number,\n  quantity: PropTypes.number,\n  inStock: PropTypes.bool,\n  description: PropTypes.string,\n  onDelete: PropTypes.func,\n  onSubmit: PropTypes.func.isRequired\n};\nexport default IceCream;","map":{"version":3,"sources":["/Users/sal/Desktop/github/react-crud-hooks-example/src/ice-cream/IceCream.js"],"names":["React","useState","useEffect","useRef","ErrorContainer","IceCreamImage","useUniqueIds","useValidation","validatePrice","validateQuantity","validateDescription","PropTypes","formStyle","IceCream","iceCream","price","quantity","inStock","description","onDelete","onSubmit","descriptionId","descriptionErrorId","stockId","quantityId","quantityErrorId","priceId","priceErrorId","formRef","internalData","setInternalData","hasSubmitted","setHasSubmitted","descriptionError","descriptionErrorProps","quantityError","quantityErrorProps","priceError","priceErrorProps","toFixed","toString","onChangeHandler","e","newInternalData","target","name","type","checked","value","onSubmitHandler","preventDefault","setTimeout","errorControl","current","querySelector","focus","id","parseFloat","parseInt","propTypes","shape","number","isRequired","string","bool","func"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,SACEC,aADF,EAEEC,gBAFF,EAGEC,mBAHF,QAIO,qBAJP;AAMA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAf;;AAgSA,MAAMC,QAAQ,GAAG,CAAC;AAChBC,EAAAA,QADgB;AAEhBC,EAAAA,KAAK,GAAG,CAFQ;AAGhBC,EAAAA,QAAQ,GAAG,CAHK;AAIhBC,EAAAA,OAAO,GAAG,IAJM;AAKhBC,EAAAA,WAAW,GAAG,EALE;AAMhBC,EAAAA,QANgB;AAOhBC,EAAAA;AAPgB,CAAD,KAQX;AAAA,wBASAd,YAAY,CAAC,CAAD,CATZ;AAAA;AAAA,QAEFe,aAFE;AAAA,QAGFC,kBAHE;AAAA,QAIFC,OAJE;AAAA,QAKFC,UALE;AAAA,QAMFC,eANE;AAAA,QAOFC,OAPE;AAAA,QAQFC,YARE;;AAWJ,QAAMC,OAAO,GAAGzB,MAAM,CAAC,IAAD,CAAtB;;AAXI,oBAaoCF,QAAQ,CAAC;AAC/Cc,IAAAA,KAAK,EAAE,MADwC;AAE/CE,IAAAA,OAAO,EAAE,IAFsC;AAG/CD,IAAAA,QAAQ,EAAE,GAHqC;AAI/CE,IAAAA,WAAW,EAAE;AAJkC,GAAD,CAb5C;AAAA;AAAA,QAaGW,YAbH;AAAA,QAaiBC,eAbjB;;AAAA,qBAoBoC7B,QAAQ,CAAC,KAAD,CApB5C;AAAA;AAAA,QAoBG8B,YApBH;AAAA,QAoBiBC,eApBjB;;AAAA,yBAsB8CzB,aAAa,CAC7DsB,YAAY,CAACX,WADgD,EAE7DI,kBAF6D,EAG7DS,YAH6D,EAI7DrB,mBAJ6D,EAK7D,IAL6D,CAtB3D;AAAA;AAAA,QAsBGuB,gBAtBH;AAAA,QAsBqBC,qBAtBrB;;AAAA,0BA8BwC3B,aAAa,CACvDsB,YAAY,CAACb,QAD0C,EAEvDS,eAFuD,EAGvDM,YAHuD,EAIvDtB,gBAJuD,EAKvD,KALuD,EAMvDoB,YAAY,CAACZ,OAN0C,CA9BrD;AAAA;AAAA,QA8BGkB,aA9BH;AAAA,QA8BkBC,kBA9BlB;;AAAA,0BAuCkC7B,aAAa,CACjDsB,YAAY,CAACd,KADoC,EAEjDY,YAFiD,EAGjDI,YAHiD,EAIjDvB,aAJiD,EAKjD,IALiD,CAvC/C;AAAA;AAAA,QAuCG6B,UAvCH;AAAA,QAuCeC,eAvCf;;AA+CJpC,EAAAA,SAAS,CAAC,MAAM;AACd4B,IAAAA,eAAe,CAAC;AACdf,MAAAA,KAAK,EAAEA,KAAK,CAACwB,OAAN,CAAc,CAAd,CADO;AAEdtB,MAAAA,OAFc;AAGdD,MAAAA,QAAQ,EAAEA,QAAQ,CAACwB,QAAT,EAHI;AAIdtB,MAAAA;AAJc,KAAD,CAAf;AAMD,GAPQ,EAON,CAACH,KAAD,EAAQC,QAAR,EAAkBC,OAAlB,EAA2BC,WAA3B,CAPM,CAAT;;AASA,QAAMuB,eAAe,GAAGC,CAAC,IAAI;AAC3B,QAAIC,eAAe,qBACdd,YADc;AAEjB,OAACa,CAAC,CAACE,MAAF,CAASC,IAAV,GACEH,CAAC,CAACE,MAAF,CAASE,IAAT,KAAkB,UAAlB,GAA+BJ,CAAC,CAACE,MAAF,CAASG,OAAxC,GAAkDL,CAAC,CAACE,MAAF,CAASI;AAH5C,MAAnB;;AAMA,QAAIN,CAAC,CAACE,MAAF,CAASC,IAAT,KAAkB,UAAtB,EAAkC;AAChCF,MAAAA,eAAe,CAAC1B,OAAhB,GAA0ByB,CAAC,CAACE,MAAF,CAASI,KAAT,KAAmB,GAA7C;AACD;;AAED,QAAIN,CAAC,CAACE,MAAF,CAASC,IAAT,KAAkB,SAAlB,IAA+B,CAACH,CAAC,CAACE,MAAF,CAASG,OAA7C,EAAsD;AACpDJ,MAAAA,eAAe,CAAC3B,QAAhB,GAA2B,GAA3B;AACD;;AAEDc,IAAAA,eAAe,CAACa,eAAD,CAAf;AACD,GAhBD;;AAkBA,QAAMM,eAAe,GAAGP,CAAC,IAAI;AAC3BA,IAAAA,CAAC,CAACQ,cAAF;AACAlB,IAAAA,eAAe,CAAC,IAAD,CAAf;;AAEA,QAAIC,gBAAgB,IAAIE,aAApB,IAAqCE,UAAzC,EAAqD;AACnDc,MAAAA,UAAU,CAAC,MAAM;AACf,cAAMC,YAAY,GAAGxB,OAAO,CAACyB,OAAR,CAAgBC,aAAhB,CACnB,uBADmB,CAArB;AAGAF,QAAAA,YAAY,CAACG,KAAb;AACD,OALS,CAAV;AAMD,KAPD,MAOO;AACLnC,MAAAA,QAAQ,CAAC;AACPN,QAAAA,QAAQ,EAAE;AAAE0C,UAAAA,EAAE,EAAE1C,QAAQ,CAAC0C;AAAf,SADH;AAEPzC,QAAAA,KAAK,EAAE0C,UAAU,CAAC5B,YAAY,CAACd,KAAd,CAFV;AAGPE,QAAAA,OAAO,EAAEY,YAAY,CAACZ,OAHf;AAIPD,QAAAA,QAAQ,EAAE0C,QAAQ,CAAC7B,YAAY,CAACb,QAAd,CAJX;AAKPE,QAAAA,WAAW,EAAEW,YAAY,CAACX;AALnB,OAAD,CAAR;AAOD;AACF,GApBD;;AAsBA,SACE;AAAK,IAAA,SAAS,EAAEN,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAEE,QAAQ,CAAC0C,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK1C,QAAQ,CAAC+B,IAAd,CAFF,CADF,EAKE;AAAM,IAAA,UAAU,MAAhB;AAAiB,IAAA,QAAQ,EAAEI,eAA3B;AAA4C,IAAA,GAAG,EAAErB,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAEP,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACa;AAAM,mBAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADb,OADF,EAIE,oBAAC,cAAD;AACE,IAAA,SAAS,EAAEY,gBADb;AAEE,IAAA,OAAO,EAAEX,kBAFX;AAGE,IAAA,YAAY,EAAES,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,EAAE,EAAEV,aADN;AAEE,IAAA,IAAI,EAAC,aAFP;AAGE,IAAA,IAAI,EAAC,GAHP;AAIE,IAAA,QAAQ,EAAEoB,eAJZ;AAKE,IAAA,KAAK,EAAEZ,YAAY,CAACX;AALtB,KAMMgB,qBANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALF,CAJF,EAkBE;AAAO,IAAA,OAAO,EAAEX,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBF,EAmBE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,EAAE,EAAEA,OADN;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,IAAI,EAAC,SAHP;AAIE,IAAA,QAAQ,EAAEkB,eAJZ;AAKE,IAAA,OAAO,EAAEZ,YAAY,CAACZ,OALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAnBF,EA6BE;AAAO,IAAA,OAAO,EAAEO,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA7BF,EA8BE,oBAAC,cAAD;AACE,IAAA,SAAS,EAAEW,aADb;AAEE,IAAA,OAAO,EAAEV,eAFX;AAGE,IAAA,YAAY,EAAEM,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,EAAE,EAAEP,UADN;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEiB,eAHZ;AAIE,IAAA,KAAK,EAAEZ,YAAY,CAACb;AAJtB,KAKMoB,kBALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAPF,EAQE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARF,EASE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATF,EAUE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAVF,EAWE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAXF,EAYE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAZF,CALF,CA9BF,EAkDE;AAAO,IAAA,OAAO,EAAEV,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACO;AAAM,mBAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADP,OAlDF,EAqDE,oBAAC,cAAD;AACE,IAAA,SAAS,EAAEW,UADb;AAEE,IAAA,OAAO,EAAEV,YAFX;AAGE,IAAA,YAAY,EAAEI,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,EAAE,EAAEL,OADN;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,QAAQ,EAAEe,eALZ;AAME,IAAA,KAAK,EAAEZ,YAAY,CAACd;AANtB,KAOMuB,eAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALF,CArDF,EAoEE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,IAAlB;AAAuB,IAAA,IAAI,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAIGnB,QAAQ,IACP;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAA0C,IAAA,OAAO,EAAEA,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CApEF,CALF,CADF,CAJF,CADF;AA8FD,CAtMD;;AAwMAN,QAAQ,CAAC8C,SAAT,GAAqB;AACnB7C,EAAAA,QAAQ,EAAEH,SAAS,CAACiD,KAAV,CAAgB;AACxBJ,IAAAA,EAAE,EAAE7C,SAAS,CAACkD,MAAV,CAAiBC,UADG;AAExBjB,IAAAA,IAAI,EAAElC,SAAS,CAACoD,MAAV,CAAiBD;AAFC,GAAhB,CADS;AAKnB/C,EAAAA,KAAK,EAAEJ,SAAS,CAACkD,MALE;AAMnB7C,EAAAA,QAAQ,EAAEL,SAAS,CAACkD,MAND;AAOnB5C,EAAAA,OAAO,EAAEN,SAAS,CAACqD,IAPA;AAQnB9C,EAAAA,WAAW,EAAEP,SAAS,CAACoD,MARJ;AASnB5C,EAAAA,QAAQ,EAAER,SAAS,CAACsD,IATD;AAUnB7C,EAAAA,QAAQ,EAAET,SAAS,CAACsD,IAAV,CAAeH;AAVN,CAArB;AAaA,eAAejD,QAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport ErrorContainer from './ErrorContainer';\nimport IceCreamImage from './IceCreamImage';\nimport useUniqueIds from '../hooks/useUniqueIds';\nimport useValidation from '../hooks/useValidation';\nimport {\n  validatePrice,\n  validateQuantity,\n  validateDescription,\n} from '../utils/validators';\nimport { css } from 'emotion/macro';\nimport PropTypes from 'prop-types';\n\nconst formStyle = css`\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  font-size: 1em;\n  font-weight: 400;\n  border: 1px solid rgba(32, 33, 36, 0.12);\n  background-clip: padding-box;\n  border-radius: 1em;\n\n  .image-container {\n    display: flex;\n    background-color: #f8f8f8;\n    border-top-left-radius: 1em;\n    border-bottom-left-radius: 1em;\n    border-right: 1px solid rgba(32, 33, 36, 0.1);\n\n    img {\n      flex: 1;\n      align-self: center;\n      justify-self: center;\n      margin-left: 2em;\n      margin-right: 2em;\n    }\n  }\n\n  .form-container {\n    background-color: #ffffff;\n    border-top-right-radius: 1em;\n    border-bottom-right-radius: 1em;\n    padding: 2em;\n\n    form {\n      display: grid;\n      grid-template-columns: 1fr 3fr;\n      grid-column-gap: 1rem;\n      grid-row-gap: 0;\n\n      label {\n        justify-self: right;\n        align-self: start;\n        color: rgba(64, 49, 71, 0.8);\n        line-height: 2.375em;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      .checkbox-wrapper {\n        min-height: 3em;\n\n        // custom\n        display: flex;\n      }\n\n      input[type='checkbox'] {\n        cursor: pointer;\n        outline: 0;\n        margin: 1.175em 0px;\n        z-index: 5;\n\n        // custom\n        opacity: 0;\n        position: absolute;\n\n        & + .checkbox-wrapper-checked {\n          display: inline-block;\n          width: auto;\n\n          padding-left: 2rem;\n          position: relative;\n\n          &:before,\n          &:after {\n            display: inline-block;\n            position: absolute;\n          }\n\n          &:before {\n            content: '';\n            border: 1px solid #8b9099;\n            border-radius: 3px;\n            display: inline-block;\n            height: 1.125em;\n            width: 1.125em;\n            left: 0;\n            top: 8px;\n            transition: 0.2s box-shadow ease-in-out;\n          }\n\n          &:after {\n            border-bottom: 2px solid;\n            border-left: 2px solid;\n            content: none;\n            display: inline-block;\n            height: 5px;\n            left: 4px;\n            top: 13px;\n            width: 10px;\n            transform: rotate(-45deg);\n          }\n        }\n\n        &:checked + .checkbox-wrapper-checked:after {\n          content: '';\n          color: #fff;\n        }\n\n        &:checked + .checkbox-wrapper-checked:before {\n          background: rgba(64, 49, 71, 1);\n          border-color: rgba(64, 49, 71, 1);\n        }\n\n        &:focus:not(:active) + .checkbox-wrapper-checked:before {\n          outline: 2px solid transparent;\n          box-shadow: 0 0 0 2px #fff, 0 0 0 4px #8b9099;\n        }\n      }\n\n      input:not([type='checkbox']),\n      select,\n      textarea {\n        width: 100%;\n        justify-self: left;\n        align-self: center;\n        background: #fff;\n        border: 1px solid #8b9099;\n        border-radius: 6px;\n        color: rgba(32, 33, 36, 1);\n        font-size: 1rem;\n        line-height: 2.25em;\n        min-width: 10rem;\n        padding: 0 0.75em;\n        vertical-align: baseline;\n        font-family: 'geomanist', sans-serif;\n        transition: box-shadow 0.2s ease-in-out;\n      }\n\n      select {\n        border-radius: 6px;\n        height: 36px;\n      }\n\n      input:not([type='checkbox']),\n      textarea,\n      select {\n        box-shadow: none;\n        outline: 2px solid transparent;\n\n        &:focus {\n          outline: 2px solid transparent;\n          box-shadow: 0 0 0 2px #fff, 0 0 0 4px #8b9099;\n        }\n      }\n\n      .button-container {\n        grid-column: 2;\n        min-width: 10rem;\n        justify-self: left;\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-gap: 1em;\n\n        button {\n          display: inline-block;\n          padding: 0 1em;\n          line-height: 2em;\n          margin: 0;\n          outline: 0;\n          border: 0;\n          border-radius: 5em;\n          font-size: 1rem;\n          cursor: pointer;\n          font-family: 'geomanist', sans-serif;\n          transition: box-shadow 0.2s ease-in-out;\n\n          &:focus {\n            outline: 2px solid transparent;\n          }\n        }\n\n        .ok {\n          background-color: #0f8261;\n          color: #fff;\n          box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15);\n\n          &:focus:not(:active) {\n            box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15), 0 0 0 2px #ffffff,\n              0 0 0 4px #0f8261;\n          }\n\n          &:active {\n            box-shadow: inset 0 2px 0 rgba(0, 0, 0, 0.15);\n          }\n        }\n\n        .warning {\n          background: #ab131c;\n          color: #fff;\n          box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15);\n\n          &:focus:not(:active) {\n            box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15), 0 0 0 2px #ffffff,\n              0 0 0 4px #ab131c;\n          }\n\n          &:active {\n            box-shadow: inset 0 2px 0 rgba(0, 0, 0, 0.15);\n          }\n        }\n      }\n\n      .error {\n        input,\n        select,\n        textarea {\n          border: 1px solid #d8474f;\n          background-color: rgba(216, 71, 79, 0.07);\n\n          &:focus {\n            box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(216, 71, 79, 1);\n          }\n        }\n      }\n\n      .error-wrapper {\n        min-height: 2em;\n        padding-top: 0.2em;\n        padding-bottom: 0.5em;\n\n        span {\n          color: #ab131c;\n        }\n      }\n    }\n\n    dl {\n      display: grid;\n      grid-template-columns: 1fr 3fr;\n      grid-gap: 1rem;\n      margin-bottom: 1rem;\n      margin-top: 0;\n      line-height: 2.375em;\n\n      dt {\n        justify-self: right;\n        align-self: start;\n        color: rgba(64, 49, 71, 0.8);\n      }\n\n      dd {\n        justify-self: left;\n        align-self: center;\n        margin: 0;\n        text-align: left;\n      }\n    }\n  }\n\n  @media screen and (max-width: 880px) {\n    grid-template-columns: 1fr;\n\n    font-size: 1em;\n\n    .image-container {\n      border-radius: 1em 1em 0 0;\n      display: flex;\n      justify-content: center;\n      max-width: 100vw;\n      padding-top: 2em;\n      padding-bottom: 2em;\n\n      img {\n        max-width: 10em;\n      }\n    }\n\n    .form-container {\n      border-radius: 0 0 1em 1em;\n      max-width: 100vw;\n\n      form .error .error-wrapper > span {\n        font-size: 0.8rem;\n      }\n    }\n  }\n`;\n\nconst IceCream = ({\n  iceCream,\n  price = 0,\n  quantity = 0,\n  inStock = true,\n  description = '',\n  onDelete,\n  onSubmit,\n}) => {\n  const [\n    descriptionId,\n    descriptionErrorId,\n    stockId,\n    quantityId,\n    quantityErrorId,\n    priceId,\n    priceErrorId,\n  ] = useUniqueIds(7);\n\n  const formRef = useRef(null);\n\n  const [internalData, setInternalData] = useState({\n    price: '0.00',\n    inStock: true,\n    quantity: '0',\n    description: '',\n  });\n\n  const [hasSubmitted, setHasSubmitted] = useState(false);\n\n  const [descriptionError, descriptionErrorProps] = useValidation(\n    internalData.description,\n    descriptionErrorId,\n    hasSubmitted,\n    validateDescription,\n    true\n  );\n\n  const [quantityError, quantityErrorProps] = useValidation(\n    internalData.quantity,\n    quantityErrorId,\n    hasSubmitted,\n    validateQuantity,\n    false,\n    internalData.inStock\n  );\n\n  const [priceError, priceErrorProps] = useValidation(\n    internalData.price,\n    priceErrorId,\n    hasSubmitted,\n    validatePrice,\n    true\n  );\n\n  useEffect(() => {\n    setInternalData({\n      price: price.toFixed(2),\n      inStock,\n      quantity: quantity.toString(),\n      description,\n    });\n  }, [price, quantity, inStock, description]);\n\n  const onChangeHandler = e => {\n    let newInternalData = {\n      ...internalData,\n      [e.target.name]:\n        e.target.type === 'checkbox' ? e.target.checked : e.target.value,\n    };\n\n    if (e.target.name === 'quantity') {\n      newInternalData.inStock = e.target.value !== '0';\n    }\n\n    if (e.target.name === 'inStock' && !e.target.checked) {\n      newInternalData.quantity = '0';\n    }\n\n    setInternalData(newInternalData);\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    setHasSubmitted(true);\n\n    if (descriptionError || quantityError || priceError) {\n      setTimeout(() => {\n        const errorControl = formRef.current.querySelector(\n          '[aria-invalid=\"true\"]'\n        );\n        errorControl.focus();\n      });\n    } else {\n      onSubmit({\n        iceCream: { id: iceCream.id },\n        price: parseFloat(internalData.price),\n        inStock: internalData.inStock,\n        quantity: parseInt(internalData.quantity),\n        description: internalData.description,\n      });\n    }\n  };\n\n  return (\n    <div className={formStyle}>\n      <div className=\"image-container\">\n        <IceCreamImage iceCreamId={iceCream.id} />\n      </div>\n      <div>\n        <div className=\"form-container\">\n          <dl>\n            <dt>Name :</dt>\n            <dd>{iceCream.name}</dd>\n          </dl>\n          <form noValidate onSubmit={onSubmitHandler} ref={formRef}>\n            <label htmlFor={descriptionId}>\n              Description<span aria-hidden=\"true\">*</span> :\n            </label>\n            <ErrorContainer\n              errorText={descriptionError}\n              errorId={descriptionErrorId}\n              hasSubmitted={hasSubmitted}\n            >\n              <textarea\n                id={descriptionId}\n                name=\"description\"\n                rows=\"3\"\n                onChange={onChangeHandler}\n                value={internalData.description}\n                {...descriptionErrorProps}\n              />\n            </ErrorContainer>\n            <label htmlFor={stockId}>In Stock :</label>\n            <div className=\"checkbox-wrapper\">\n              <input\n                id={stockId}\n                type=\"checkbox\"\n                name=\"inStock\"\n                onChange={onChangeHandler}\n                checked={internalData.inStock}\n              />\n              <div className=\"checkbox-wrapper-checked\" />\n            </div>\n            <label htmlFor={quantityId}>Quantity :</label>\n            <ErrorContainer\n              errorText={quantityError}\n              errorId={quantityErrorId}\n              hasSubmitted={hasSubmitted}\n            >\n              <select\n                id={quantityId}\n                name=\"quantity\"\n                onChange={onChangeHandler}\n                value={internalData.quantity}\n                {...quantityErrorProps}\n              >\n                <option value=\"0\">0</option>\n                <option value=\"10\">10</option>\n                <option value=\"20\">20</option>\n                <option value=\"30\">30</option>\n                <option value=\"40\">40</option>\n                <option value=\"50\">50</option>\n              </select>\n            </ErrorContainer>\n            <label htmlFor={priceId}>\n              Price<span aria-hidden=\"true\">*</span> :\n            </label>\n            <ErrorContainer\n              errorText={priceError}\n              errorId={priceErrorId}\n              hasSubmitted={hasSubmitted}\n            >\n              <input\n                id={priceId}\n                type=\"number\"\n                step=\"0.01\"\n                name=\"price\"\n                onChange={onChangeHandler}\n                value={internalData.price}\n                {...priceErrorProps}\n              />\n            </ErrorContainer>\n            <div className=\"button-container\">\n              <button className=\"ok\" type=\"submit\">\n                Save\n              </button>\n              {onDelete && (\n                <button className=\"warning\" type=\"button\" onClick={onDelete}>\n                  Delete\n                </button>\n              )}\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nIceCream.propTypes = {\n  iceCream: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n  }),\n  price: PropTypes.number,\n  quantity: PropTypes.number,\n  inStock: PropTypes.bool,\n  description: PropTypes.string,\n  onDelete: PropTypes.func,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default IceCream;\n"]},"metadata":{},"sourceType":"module"}