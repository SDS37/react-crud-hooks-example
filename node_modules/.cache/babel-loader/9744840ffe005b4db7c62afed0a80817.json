{"ast":null,"code":"import _slicedToArray from \"/Users/sal/Desktop/github/react-crud-hooks-example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { css as _css } from \"emotion\";\nvar _jsxFileName = \"/Users/sal/Desktop/github/react-crud-hooks-example/src/structure/LoaderMessage.js\";\nimport React, { useState, useLayoutEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nconst loaderMessageStyle =\n/*#__PURE__*/\n_css(process.env.NODE_ENV === \"production\" ? {\n  name: \"fgizqg-loaderMessageStyle\",\n  styles: \".loading{font-size:3em;font-weight:bold;width:100%;text-align:center;margin:0;padding-bottom:3em;}label:loaderMessageStyle;\"\n} : {\n  name: \"fgizqg-loaderMessageStyle\",\n  styles: \".loading{font-size:3em;font-weight:bold;width:100%;text-align:center;margin:0;padding-bottom:3em;}label:loaderMessageStyle;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWwvRGVza3RvcC9naXRodWIvcmVhY3QtY3J1ZC1ob29rcy1leGFtcGxlL3NyYy9zdHJ1Y3R1cmUvTG9hZGVyTWVzc2FnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJOEIiLCJmaWxlIjoiL1VzZXJzL3NhbC9EZXNrdG9wL2dpdGh1Yi9yZWFjdC1jcnVkLWhvb2tzLWV4YW1wbGUvc3JjL3N0cnVjdHVyZS9Mb2FkZXJNZXNzYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ2Vtb3Rpb24vbWFjcm8nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuY29uc3QgbG9hZGVyTWVzc2FnZVN0eWxlID0gY3NzYFxuICAubG9hZGluZyB7XG4gICAgZm9udC1zaXplOiAzZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nLWJvdHRvbTogM2VtO1xuICB9XG5gO1xuXG5jb25zdCBMb2FkZXJNZXNzYWdlID0gKHsgbG9hZGluZ01zZywgZG9uZU1zZywgaXNMb2FkaW5nIH0pID0+IHtcbiAgY29uc3QgaXNMb2FkaW5nUHJldmlvdXNWYWx1ZSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbG9hZGluZ01lc3NhZ2VEZWxheSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZG9uZU1lc3NhZ2VEZWxheSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW3Nob3dMb2FkaW5nTWVzc2FnZSwgc2V0U2hvd0xvYWRpbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dEb25lTWVzc2FnZSwgc2V0U2hvd0RvbmVNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIGxvYWRpbmdNZXNzYWdlRGVsYXkuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG93TG9hZGluZ01lc3NhZ2UodHJ1ZSk7XG4gICAgICB9LCA0MDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNMb2FkaW5nUHJldmlvdXNWYWx1ZS5jdXJyZW50KSB7XG4gICAgICAgIHNldFNob3dEb25lTWVzc2FnZSh0cnVlKTtcbiAgICAgICAgZG9uZU1lc3NhZ2VEZWxheS5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2V0U2hvd0RvbmVNZXNzYWdlKGZhbHNlKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaXNMb2FkaW5nUHJldmlvdXNWYWx1ZS5jdXJyZW50ID0gaXNMb2FkaW5nO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzZXRTaG93TG9hZGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgICAgc2V0U2hvd0RvbmVNZXNzYWdlKGZhbHNlKTtcbiAgICAgIGNsZWFyVGltZW91dChsb2FkaW5nTWVzc2FnZURlbGF5LmN1cnJlbnQpO1xuICAgICAgY2xlYXJUaW1lb3V0KGRvbmVNZXNzYWdlRGVsYXkuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW2lzTG9hZGluZ10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCJcbiAgICAgIGFyaWEtYXRvbWljPVwidHJ1ZVwiXG4gICAgICBjbGFzc05hbWU9e2xvYWRlck1lc3NhZ2VTdHlsZX1cbiAgICA+XG4gICAgICB7c2hvd0xvYWRpbmdNZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cImxvYWRpbmdcIj57bG9hZGluZ01zZ308L3A+fVxuICAgICAge3Nob3dEb25lTWVzc2FnZSAmJiA8cCBjbGFzc05hbWU9XCJ2aXN1YWxseS1oaWRkZW5cIj57ZG9uZU1zZ308L3A+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuTG9hZGVyTWVzc2FnZS5wcm9wVHlwZXMgPSB7XG4gIGxvYWRpbmdNc2c6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZG9uZU1zZzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBpc0xvYWRpbmc6IFByb3BUeXBlcy5ib29sLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9hZGVyTWVzc2FnZTtcbiJdfQ== */\"\n});\n\nconst LoaderMessage = ({\n  loadingMsg,\n  doneMsg,\n  isLoading\n}) => {\n  const isLoadingPreviousValue = useRef(null);\n  const loadingMessageDelay = useRef(null);\n  const doneMessageDelay = useRef(null);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showLoadingMessage = _useState2[0],\n        setShowLoadingMessage = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        showDoneMessage = _useState4[0],\n        setShowDoneMessage = _useState4[1];\n\n  useLayoutEffect(() => {\n    if (isLoading) {\n      loadingMessageDelay.current = setTimeout(() => {\n        setShowLoadingMessage(true);\n      }, 400);\n    } else {\n      if (isLoadingPreviousValue.current) {\n        setShowDoneMessage(true);\n        doneMessageDelay.current = setTimeout(() => {\n          setShowDoneMessage(false);\n        }, 300);\n      }\n    }\n\n    isLoadingPreviousValue.current = isLoading;\n    return () => {\n      setShowLoadingMessage(false);\n      setShowDoneMessage(false);\n      clearTimeout(loadingMessageDelay.current);\n      clearTimeout(doneMessageDelay.current);\n    };\n  }, [isLoading]);\n  return React.createElement(\"div\", {\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\",\n    className: loaderMessageStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, showLoadingMessage && React.createElement(\"p\", {\n    className: \"loading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, loadingMsg), showDoneMessage && React.createElement(\"p\", {\n    className: \"visually-hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, doneMsg));\n};\n\nLoaderMessage.propTypes = {\n  loadingMsg: PropTypes.string.isRequired,\n  doneMsg: PropTypes.string.isRequired,\n  isLoading: PropTypes.bool\n};\nexport default LoaderMessage;","map":{"version":3,"sources":["/Users/sal/Desktop/github/react-crud-hooks-example/src/structure/LoaderMessage.js"],"names":["React","useState","useLayoutEffect","useRef","PropTypes","loaderMessageStyle","LoaderMessage","loadingMsg","doneMsg","isLoading","isLoadingPreviousValue","loadingMessageDelay","doneMessageDelay","showLoadingMessage","setShowLoadingMessage","showDoneMessage","setShowDoneMessage","current","setTimeout","clearTimeout","propTypes","string","isRequired","bool"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,eAA1B,EAA2CC,MAA3C,QAAyD,OAAzD;AAEA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAxB;;AAWA,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,OAAd;AAAuBC,EAAAA;AAAvB,CAAD,KAAwC;AAC5D,QAAMC,sBAAsB,GAAGP,MAAM,CAAC,IAAD,CAArC;AACA,QAAMQ,mBAAmB,GAAGR,MAAM,CAAC,IAAD,CAAlC;AACA,QAAMS,gBAAgB,GAAGT,MAAM,CAAC,IAAD,CAA/B;;AAH4D,oBAIRF,QAAQ,CAAC,KAAD,CAJA;AAAA;AAAA,QAIrDY,kBAJqD;AAAA,QAIjCC,qBAJiC;;AAAA,qBAKdb,QAAQ,CAAC,KAAD,CALM;AAAA;AAAA,QAKrDc,eALqD;AAAA,QAKpCC,kBALoC;;AAO5Dd,EAAAA,eAAe,CAAC,MAAM;AACpB,QAAIO,SAAJ,EAAe;AACbE,MAAAA,mBAAmB,CAACM,OAApB,GAA8BC,UAAU,CAAC,MAAM;AAC7CJ,QAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD,OAFuC,EAErC,GAFqC,CAAxC;AAGD,KAJD,MAIO;AACL,UAAIJ,sBAAsB,CAACO,OAA3B,EAAoC;AAClCD,QAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAJ,QAAAA,gBAAgB,CAACK,OAAjB,GAA2BC,UAAU,CAAC,MAAM;AAC1CF,UAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACD,SAFoC,EAElC,GAFkC,CAArC;AAGD;AACF;;AACDN,IAAAA,sBAAsB,CAACO,OAAvB,GAAiCR,SAAjC;AACA,WAAO,MAAM;AACXK,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAE,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACAG,MAAAA,YAAY,CAACR,mBAAmB,CAACM,OAArB,CAAZ;AACAE,MAAAA,YAAY,CAACP,gBAAgB,CAACK,OAAlB,CAAZ;AACD,KALD;AAMD,GApBc,EAoBZ,CAACR,SAAD,CApBY,CAAf;AAsBA,SACE;AACE,iBAAU,WADZ;AAEE,mBAAY,MAFd;AAGE,IAAA,SAAS,EAAEJ,kBAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGQ,kBAAkB,IAAI;AAAG,IAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBN,UAAxB,CALzB,EAMGQ,eAAe,IAAI;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgCP,OAAhC,CANtB,CADF;AAUD,CAvCD;;AAyCAF,aAAa,CAACc,SAAd,GAA0B;AACxBb,EAAAA,UAAU,EAAEH,SAAS,CAACiB,MAAV,CAAiBC,UADL;AAExBd,EAAAA,OAAO,EAAEJ,SAAS,CAACiB,MAAV,CAAiBC,UAFF;AAGxBb,EAAAA,SAAS,EAAEL,SAAS,CAACmB;AAHG,CAA1B;AAMA,eAAejB,aAAf","sourcesContent":["import React, { useState, useLayoutEffect, useRef } from 'react';\nimport { css } from 'emotion/macro';\nimport PropTypes from 'prop-types';\n\nconst loaderMessageStyle = css`\n  .loading {\n    font-size: 3em;\n    font-weight: bold;\n    width: 100%;\n    text-align: center;\n    margin: 0;\n    padding-bottom: 3em;\n  }\n`;\n\nconst LoaderMessage = ({ loadingMsg, doneMsg, isLoading }) => {\n  const isLoadingPreviousValue = useRef(null);\n  const loadingMessageDelay = useRef(null);\n  const doneMessageDelay = useRef(null);\n  const [showLoadingMessage, setShowLoadingMessage] = useState(false);\n  const [showDoneMessage, setShowDoneMessage] = useState(false);\n\n  useLayoutEffect(() => {\n    if (isLoading) {\n      loadingMessageDelay.current = setTimeout(() => {\n        setShowLoadingMessage(true);\n      }, 400);\n    } else {\n      if (isLoadingPreviousValue.current) {\n        setShowDoneMessage(true);\n        doneMessageDelay.current = setTimeout(() => {\n          setShowDoneMessage(false);\n        }, 300);\n      }\n    }\n    isLoadingPreviousValue.current = isLoading;\n    return () => {\n      setShowLoadingMessage(false);\n      setShowDoneMessage(false);\n      clearTimeout(loadingMessageDelay.current);\n      clearTimeout(doneMessageDelay.current);\n    };\n  }, [isLoading]);\n\n  return (\n    <div\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n      className={loaderMessageStyle}\n    >\n      {showLoadingMessage && <p className=\"loading\">{loadingMsg}</p>}\n      {showDoneMessage && <p className=\"visually-hidden\">{doneMsg}</p>}\n    </div>\n  );\n};\n\nLoaderMessage.propTypes = {\n  loadingMsg: PropTypes.string.isRequired,\n  doneMsg: PropTypes.string.isRequired,\n  isLoading: PropTypes.bool,\n};\n\nexport default LoaderMessage;\n"]},"metadata":{},"sourceType":"module"}